import{j as e,H as f,b as g,f as b,_ as H,i as Y,w as A,$ as L,a0 as oe,a1 as J,G as K,a2 as se,I as S,a3 as E,F as w,a4 as j,a5 as B,a6 as ie,a7 as le,a8 as ce,X as C,B as F,K as de,L as ue,n as O,a9 as pe}from"./index-439cf5f3.js";import{r as c,b as q}from"./vendor-5d1559fa.js";import{A as z,h as V,d as G,C as M,e as he,f as me,g as xe,b as _,t as fe}from"./chevron-double-left-36c3458f.js";function ge(t){const r=c.useRef(t);return r.current=t,r}function je(t,r=0){const n=c.useRef(null),a=ge(t),o=c.useCallback((...i)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{var l;n.current=null,(l=a.current)==null||l.call(a,...i)},r)},[r]),s=c.useCallback(()=>{n.current&&clearTimeout(n.current)},[]);return[o,s]}function be(t){var r;return((r=t.getPath)==null?void 0:r.call(t))??`${t.getName().toLowerCase()}`}const Q={getName:()=>z.displayName,getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:z.displayName}),"Добавьте описание"]})},element:function(r){const{state:{portalSourceIntoContainer:n,containerRelative:a,...o}}=r,[s,i]=c.useState(),[l,d]=c.useState();return e.jsx("div",{style:{overflow:"hidden",width:"100%",height:"100%"},ref:d,children:e.jsxs("div",{style:{padding:"200px 0 0 500px",border:a?"1px solid red":"1px solid blue",position:a?"relative":void 0},children:[e.jsx("button",{ref:g(i),children:"Target"}),s&&e.jsx(z,{targetElement:s,containerElement:n?l:void 0,...o,children:e.jsx("div",{style:{width:"400px",height:"100px",background:"red"},children:"Source"})})]})})},controls:[{name:"sourcePoint",path:["points",0],input:"select",options:["bc","bl","br","tc","tl","tr","cc","cl","cr"],defaultValue:"cr",style:{width:"200px"}},{name:"targetPoint",path:["points",1],input:"select",options:["bc","bl","br","tc","tl","tr","cc","cl","cr"],defaultValue:"cl",style:{width:"200px"}},{name:"portalSourceIntoContainer",input:"checkbox",defaultValue:!1},{name:"containerRelative",input:"checkbox",defaultValue:!1},{name:"adjustX",path:["overflow","adjustX"],input:"checkbox",defaultValue:!1},{name:"adjustY",path:["overflow","adjustY"],input:"checkbox",defaultValue:!1},{name:"alwaysByViewport",path:["overflow","alwaysByViewport"],input:"checkbox",defaultValue:!1}]};function ye(t){return t==="tl"?["-100%","-50%"]:t==="tr"?["100%","-50%"]:t==="tc"?[0,"-50%"]:t==="bl"?["-100%","50%"]:t==="br"?["100%","50%"]:t==="bc"?[0,"50%"]:t==="cr"?["50%",0]:t==="cl"?["-50%",0]:[0,0]}T.displayName="a-Balloon";function T(t,r){const{renderArrow:n,placement:a="tc",contentProps:o,children:s,...i}=t,[l,d]=q.useState(null),u=c.useRef(null);return console.log("placement",a),e.jsx("div",{...i,ref:g(d,r,h),className:b(i.className,T.displayName),children:e.jsx(V,{opened:!0,placement:m(a),offset:ye(a),containerElement:l,renderContent:n,renderTarget:c.forwardRef(function(y,v){return e.jsx("div",{...o,ref:g(v,u,h),className:b("content",o.className),children:s})})})});function h(){var v,N;if(!l||!u.current)return;const p=(v=H(u.current))==null?void 0:v.width,y=(N=H(u.current))==null?void 0:N.height;Y(p),Y(y),l.style.width=p,l.style.height=y}function m(p){return p.charAt(0)==="c"?G.flipPointHorizontally(p):G.flipPointVertically(p)}}const Z=c.forwardRef(T);Z.displayName=T.displayName;const D=Z,ve={getName:()=>D.displayName||"",getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:D.displayName}),"Добавьте описание"]})},element:function(r){const{state:n}=r;return e.jsx(D,{contentProps:{style:{background:"red",position:"absolute",zIndex:2}},renderArrow:c.forwardRef(function(o,s){return e.jsx("div",{ref:g(s),style:{position:"absolute",background:"blue",width:"10px",height:"10px",transform:"rotate(45deg)",zIndex:1}})}),...n,children:e.jsx("div",{style:{width:"200px",height:"200px"},children:"Content"})})},controls:[{name:"placement",input:"select",options:["bc","bl","br","tc","tl","tr","cc","cl","cr"],defaultValue:"cr",style:{width:"200px"}}]},we={getName:()=>M.displayName,getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:M.displayName}),"Добавьте описание"]})},element:function(r){const{state:{portalSourceIntoContainer:n,containerRelative:a,...o}}=r,[s,i]=c.useState();return e.jsx("div",{style:{width:"100%",height:"100%"},children:e.jsx("div",{ref:i,style:{overflow:"hidden",border:a?"1px solid red":"1px solid blue",position:a?"relative":void 0,padding:"200px 0 0 500px"},children:e.jsx(M,{...o,contentProps:{},containerElement:n?s:void 0,renderContent:c.forwardRef(function(d,u){return e.jsxs("div",{ref:g(u),style:{background:"red",width:"200px",height:"100px"},children:["Placement: ",d.placement]})}),children:e.jsx("button",{children:"Target"})})})})},controls:[{name:"opened",input:"checkbox",defaultValue:!0},{name:"placement",input:"select",options:["bc","bl","br","tc","tl","tr","cc","cl","cr"],defaultValue:"cr",style:{width:"200px"}},{name:"portalSourceIntoContainer",input:"checkbox",defaultValue:!1},{name:"adjustX",path:["overflow","adjustX"],input:"checkbox",defaultValue:!1},{name:"adjustY",path:["overflow","adjustY"],input:"checkbox",defaultValue:!1},{name:"alwaysByViewport",path:["overflow","alwaysByViewport"],input:"checkbox",defaultValue:!1}]},Ne={getName:()=>A.displayName||"",getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:A.displayName}),"Размер `foreignObject` подстраивается под размер детей"]})},element:function(r){const{state:{contentAdded:n,...a}}=r;return e.jsx("svg",{width:"100%",height:"100%",style:{border:"1px solid red"},children:e.jsx(A,{dataId:"test",...a,children:e.jsxs("div",{style:{border:"1px solid blue"},children:["Hello"," ",n&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),"World"]})]})})})},controls:[{name:"x",input:"input",defaultValue:20,width:"200px",type:"number"},{name:"y",input:"input",defaultValue:20,width:"200px",type:"number"},{name:"contentAdded",input:"checkbox",defaultValue:!0}]},U={id:"id1",name:"name1",type:"FILTER",computation:"parallel",x:10,y:10},Ce={getName:()=>L.displayName||"",getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:L.displayName}),"Добавьте описание"]})},element:function(r){const n=c.useMemo(()=>new oe(U),[]),a=new J([U]),{state:o}=r;return e.jsx("svg",{width:"100%",height:"100%",style:{border:"1px solid red"},children:e.jsx(L,{...o,listState:a,state:n,toolbar:e.jsxs("div",{style:{display:"flex",justifyContent:"end",padding:"var(--s)"},children:[e.jsx(K,{height:"s",style:{padding:"var(--l)"},children:"Toolbar"}),e.jsx(K,{height:"s",square:!0,children:e.jsx(se,{})})]}),title:e.jsx(S,{height:"l",value:"title",onChange:E}),targetLinks:e.jsxs(w,{style:{border:"1px solid blue"},gap:"xxl",dir:"column",padding:"var(--xxl) .2rem",children:[e.jsx(j,{variant:"linked",linkId:"test1"}),e.jsx(j,{variant:"new",linkId:"test"})]}),sourceLinks:e.jsx(w,{gap:"xxl",width:"100%",dir:"column",padding:"var(--l) .2rem",children:e.jsxs("div",{style:{display:"flex",width:"100%",height:"40px",padding:"0 0.2rem 0 1rem",justifyContent:"space-between",alignItems:"center",background:"grey"},children:[e.jsx("span",{children:"Rule"})," ",e.jsx(j,{variant:"unlinked",linkId:"test"})]})}),onGestureDrug:s=>{const i=n.position.start.x+s.movement[0],l=n.position.start.y+s.movement[1];n.position.move({x:i,y:l},s)},style:{border:"1px solid red",width:"300px"}})})},controls:[]},ke={id:"id1",name:"name1",type:"FILTER",computation:"parallel",x:10,y:10},Pe={id:"id2",name:"name2",type:"FILTER",computation:"parallel",x:510,y:10},Ee={getName:()=>B.displayName||"",getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:B.displayName}),"Добавьте описание"]})},element:function(r){const n=c.useMemo(()=>new J([ke,Pe]),[]),a=c.useMemo(()=>new ie([{id:"id1",name:"name",sourceId:"id1",targetId:"id2",i:1}]),[]);return e.jsx("svg",{width:"100%",height:"100%",style:{border:"1px solid red"},children:e.jsx(le,{backend:ce,children:n.values().map(o=>c.createElement(B,{...r,nodeListState:n,key:o.id,state:o,linkListState:a,remove:()=>console.log("remove!"),onGestureDrug:s=>{const i=o.position.start.x+s.movement[0],l=o.position.start.y+s.movement[1];o.position.move({x:i,y:l},s)}}))})})},controls:[]};x.displayName="ui-Labeled";function x(t){const{label:r,htmlFor:n,direction:a="vertical",children:o,className:s,labelProps:i,hidden:l,...d}=t;return e.jsxs("div",{...d,"aria-hidden":l,className:b(s,x.displayName,`--${a}`,l&&"--hidden"),children:[e.jsx("label",{className:"label",...i,htmlFor:n,children:t.label}),o]})}const Ve={getName:()=>j.displayName||"",getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:j.displayName}),"Добавьте описание"]})},element:function(r){const{state:n}=r;return e.jsxs(e.Fragment,{children:[e.jsx(x,{label:"new",children:e.jsx(j,{linkId:"test",variant:"new",...n})}),e.jsx(x,{label:"linked",children:e.jsx(j,{linkId:"test",variant:"linked",...n})}),e.jsx(x,{label:"unlinked",children:e.jsx(j,{linkId:"test",variant:"unlinked",...n})})]})},controls:[]},De={getName:()=>C.displayName,getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:C.displayName}),"Добавьте описание"]})},element:function(r){const{state:n}=r;return e.jsxs(w,{dir:"column",gap:"xl",width:"100%",children:[e.jsx(x,{label:"unchecked",children:e.jsx(C,{height:"s",placeholder:"placeholder",...n,onChange:E})}),e.jsx(x,{label:"checked",children:e.jsx(C,{checked:!0,height:"s",placeholder:"placeholder",...n,onChange:E})}),e.jsx(x,{label:"disabled",children:e.jsx(C,{disabled:!0,height:"s",placeholder:"placeholder",...n,onChange:E})}),e.jsx(x,{label:"checked disabled",children:e.jsx(C,{checked:!0,disabled:!0,height:"s",placeholder:"placeholder",...n,onChange:E})})]})},controls:[{name:"round",input:"checkbox",defaultValue:!0}]},Ie={getName:()=>x.displayName,getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:x.displayName}),"Добавьте описание"]})},element:function(r){const{state:n}=r;return e.jsxs(w,{dir:"column",gap:"xl",width:"100%",children:[e.jsx(x,{htmlFor:"test2",label:"Long name",...n,children:e.jsx(S,{placeholder:"Please enter your long name"})}),e.jsx(x,{htmlFor:"test",label:"Test",...n,children:e.jsx(S,{placeholder:"Test"})})]})},controls:[{name:"direction",input:"select",options:["horizontal","vertical"],defaultValue:"vertical",style:{width:"200px"}},{name:"hidden",input:"checkbox",defaultValue:!1}]};function k(t="",r=0){return typeof t=="number"?Number.isNaN(t)?r:t:parseInt(t,10)||r}function Re(t="",r){const[n,a]=c.useState(t),[o,s]=c.useState(t);c.useEffect(()=>{o!==t&&(a(t),s(t))},[t,o]);const i=c.useCallback(d=>{a(d.target.value)},[]),l=c.useCallback(d=>{if(d.key==="Enter"){const u=d.target.value;s(u),r(parseInt(u||"",10))()}},[o]);return[n,i,l]}$.displayName="ui-PageCounter";function $(t){var u;const[r,n,a]=Re((u=t.page)==null?void 0:u.toString(),d),o=k(t.total),s=k(t.size),i=k(t.page),l=Math.ceil(o/s);function d(h){return()=>{var m;h!==i&&t.onChange&&h>=1&&h<=l&&((m=t.onChange)==null||m.call(t,h))}}if(i<1)throw Error("Page cannot be less than 1");return e.jsx("div",{className:b(t.className,$.displayName),children:!!t.total&&e.jsxs(e.Fragment,{children:[e.jsx(F,{round:!0,disabled:t.page===1,onClick:d(1),children:e.jsx(he,{})}),e.jsx(F,{round:!0,disabled:t.page===1,onClick:d(i-1),children:e.jsx(me,{})}),e.jsx(S,{onKeyUp:a,onChange:n,style:{width:"50px",textAlign:"center"},value:k(r,0).toString(),onFocus:()=>{var h;(h=document.activeElement)==null||h.select()},autoComplete:"off"}),e.jsx(F,{round:!0,disabled:i>=l,onClick:d(i+1),children:e.jsx(de,{})}),e.jsx(F,{round:!0,disabled:i>=l,onClick:d(l),children:e.jsx(xe,{})})]})})}I.displayName="ui-Paginator";function I(t){const r=k(t.total),n=k(t.size),a=Math.ceil(r/n);return e.jsxs("div",{className:b(I.displayName),children:[e.jsx($,{...t}),e.jsx("div",{className:"info",children:!!t.total&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["всего страниц: ",a]}),e.jsxs("div",{children:["всего элементов: ",r]})]})})]})}const Fe={getName:()=>I.displayName,getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:I.displayName}),"Добавьте описание"]})},element:function(r){const{state:n,setState:a}=r;return e.jsx(w,{dir:"column",gap:"xl",width:"100%",children:e.jsx(I,{size:10,total:3e3,onChange:o=>a(s=>({...s,page:o})),...n})})},controls:[{name:"page",input:"input",defaultValue:1,width:"200px",type:"number"}]};W.displayName="ConfigLink";function W(t){return e.jsx(ue,{className:b(t.className,W.displayName),to:`/project-with-tree/story/${be(t.config)}`,children:t.config.getName()})}const Se={getName:()=>V.displayName,getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:V.displayName}),e.jsxs(_,{children:["Расширяет ",e.jsx(W,{config:Q})]}),e.jsx(_,{children:"Должен мгновенно менять цвет и положение при `adjustX === true` если происходит перепозиционирование"})]})},element:function(r){const{state:{portalSourceIntoContainer:n,containerRelative:a,...o}}=r,[s,i]=c.useState();return e.jsx("div",{style:{width:"100%",height:"100%"},children:e.jsx("div",{ref:i,style:{overflow:"hidden",border:a?"1px solid red":"1px solid blue",position:a?"relative":void 0,padding:"200px 0 0 500px"},children:e.jsx(V,{renderContent:c.forwardRef(function(d,u){return e.jsxs("div",{ref:g(u),style:{width:"400px",height:"100px",background:d.popoverProps.adjustedPoints[0]==="cl"?"red":"blue"},children:["Points ",d.popoverProps.adjustedPoints.join(" - ")]})}),renderTarget:c.forwardRef(function(d,u){return e.jsx("button",{ref:g(u),style:{background:d.popoverProps.adjustedPoints[0]==="cl"?"red":"blue"},children:"Target"})}),containerElement:n?s:void 0,...o})})})},controls:[{name:"opened",input:"checkbox",defaultValue:!0},{name:"placement",input:"select",options:["bc","bl","br","tc","tl","tr","cc","cl","cr"],defaultValue:"cr",style:{width:"200px"}},{name:"portalSourceIntoContainer",input:"checkbox",defaultValue:!1},{name:"adjustX",path:["overflow","adjustX"],input:"checkbox",defaultValue:!1},{name:"adjustY",path:["overflow","adjustY"],input:"checkbox",defaultValue:!1},{name:"alwaysByViewport",path:["overflow","alwaysByViewport"],input:"checkbox",defaultValue:!1}]};function Te(t){return t?t[1]==="tl"?[0,0]:[0,0]:[0,0]}P.displayName="a-Tooltip";function P(t){const{delay:r=300,placement:n="tc",onClose:a,children:o,containerElement:s,className:i,renderBalloon:l,onClickOutside:d,onEscKeyDown:u,overflow:h,...m}=t,[p,y]=c.useState(!1),[v,N]=je(()=>y(!0),r),X=fe(n),[ee,te]=c.useState(X);return e.jsx(V,{opened:p,points:X,onClose:a,offset:Te(ee),onClickOutside:d,overflow:h,onPointsAdjusted:te,onEscKeyDown:u,containerElement:s,contentProps:{...m,className:b(i,P.displayName)},renderContent:l,renderTarget:c.forwardRef(function(ze,ne){const{onMouseEnter:re,onMouseLeave:ae}=o.props;return q.cloneElement(o,{onMouseEnter:O(re,v),onMouseLeave:O(ae,t.onClose,N,()=>y(!1)),ref:g(o.ref,ne)})})})}const Ae={getName:()=>P.displayName,getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:P.displayName}),"Добавьте описание"]})},element:function(r){const{state:n}=r;return e.jsx(w,{dir:"column",gap:"xl",width:"100%",children:e.jsx(P,{renderBalloon:c.forwardRef(function(o,s){const i=n.placement;return e.jsx(D,{placement:i,ref:g(s),contentProps:{style:{background:"red",position:"absolute",zIndex:2}},renderArrow:c.forwardRef(function(d,u){return e.jsx("div",{ref:g(u),style:{position:"absolute",background:"blue",width:"10px",height:"10px",transform:"rotate(45deg)",zIndex:1}})}),children:e.jsx("div",{style:{width:"200px",height:"200px"},children:"Content"})})}),...n,children:e.jsx("button",{children:"Hello"})})})},controls:[{name:"placement",input:"select",options:["bc","bl","br","tc","tl","tr","cc","cl","cr"],defaultValue:"tl",style:{width:"200px"}},{name:"delay",input:"input",defaultValue:300,width:"200px",type:"number"}]};R.displayName="ui-Tooltip";function R(t){const{delay:r=1e3,placement:n="tc",children:a,content:o,overflow:s,onClose:i,className:l,...d}=t;return e.jsx(P,{...d,delay:r,overflow:s,onClose:i,placement:n,renderBalloon:c.forwardRef(function(m,p){return e.jsx(pe,{duration:100,...u(n),style:{position:"fixed",zIndex:1},children:e.jsx(D,{className:b(l,R.displayName),placement:n,ref:g(p),contentProps:{className:"content",style:{position:"absolute"}},renderArrow:c.forwardRef(function(v,N){return e.jsx("div",{className:"arrow",ref:g(N),style:{position:"absolute"}})}),children:o})})}),children:a});function u(h){const m={x:0,y:0},p={x:0,y:0};return h.charAt(0)==="b"?(m.y=-5,p.y=5,{from:m,to:p}):h.charAt(0)==="t"?(m.y=5,p.y=-5,{from:m,to:p}):h.charAt(1)==="l"?(m.x=5,p.x=-5,{from:m,to:p}):h.charAt(1)==="r"?(m.x=-5,p.x=5,{from:m,to:p}):{from:m,to:p}}}const Le={getName:()=>R.displayName,getDescription:function(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:R.displayName}),"Добавьте описание"]})},element:function(r){const{state:n}=r;return e.jsx(w,{dir:"column",gap:"xl",width:"100%",children:e.jsx(R,{content:"World",...n,children:e.jsx("button",{children:"Hello"})})})},controls:[{name:"placement",input:"select",options:["bc","bl","br","tc","tl","tr","cc","cl","cr"],defaultValue:"tc",style:{width:"200px"}},{name:"delay",input:"input",defaultValue:300,width:"200px",type:"number"}]},Xe=[["Align",Q],["Balloon",ve],["Callout",we],["Canvas",Ne,Ce,Ve,Ee],["Checkbox",De],["Labeled",Ie],["Paginator",Fe],["Popover",Se],["Tooltip",Ae,Le]];export{W as C,x as L,be as c,Xe as r};
